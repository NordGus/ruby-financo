<%= form_for [:accounts_and_goals, account],
             html: {
               class: modal_parent_element_classes,
               data: { controller: "deletable" }
             } do |form| %>
  <div class="flex justify-between items-stretch border-b h-14">
    <span class="px-4 border-r flex justify-center items-center">
        <%= t("accounts_and_goals.ui.accounts.kind.#{form.object.kind}") %>
      </span>
    <div class="flex-grow content-['']"></div>
    <%=
      form.submit nil,
                  class: "px-4 border-l cursor-pointer bg-green-500 text-neutral-50 hover:bg-green-400 flex justify-center items-center"
    %>
    <%=
      link_to t("ui.buttons.close"),
              accounts_and_goals_path,
              class: "px-4 border-l cursor-pointer hover:bg-neutral-100 flex justify-center items-center"
    %>
  </div>
  <div class="overflow-y-auto">
    <%= form.hidden_field :kind %>
    <% if flash[:notice].present? %>
      <%= render "components/forms/messages/big", message: flash[:notice], type: :success %>
    <% end %>
    <% if account.errors.messages_for(:form_persistence).any? %>
      <div class="[&:not(:last-child)]:border-b">
        <% account.errors.messages_for(:form_persistence).each do |error| %>
          <%= render "components/forms/messages/big", message: error, type: :error %>
        <% end %>
      </div>
    <% end %>
    <div class="[&:not(:last-child)]:border-b relative">
      <%= form.label :name, class: "px-4 pt-1 text-sm absolute top-0" %>
      <%=
        form.text_field :name,
                        class: "h-16 w-full px-4 pt-3 text-lg flex-grow focus:bg-neutral-100 hover:bg-neutral-100",
                        autofocus: true
      %>
    </div>
    <% account.errors.messages_for(:name).each do |error| %>
      <%= render "components/forms/messages/small", message: error, type: :error %>
    <% end %>
    <div class="[&:not(:last-child)]:border-b relative">
      <%= form.label :currency, class: "px-4 pt-1 text-sm absolute top-0" %>
      <%=
        form.text_field :currency,
                        class: "h-16 w-full px-4 pt-3 text-lg flex-grow focus:bg-neutral-100 hover:bg-neutral-100"
      %>
    </div>
    <% account.errors.messages_for(:currency).each do |error| %>
      <%= render "components/forms/messages/small", message: error, type: :error %>
    <% end %>
    <div class="flex flex-col [&:not(:last-child)]:border-b min-h-16 relative">
      <%= form.label :description, class: "px-4 pt-1 text-sm absolute top-0" %>
      <%=
        form.text_area :description,
                       class: "px-4 pt-7 pb-2 text-lg flex-grow focus:bg-neutral-100 hover:bg-neutral-100 resize-y",
                       rows: 3,
                       placeholder: "add a simple description"
      %>
    </div>
    <% unless account.external? %>
      <%= render "accounts_and_goals/accounts/account/historic_fields", form:, account: %>
    <% end %>
    <% unless account.new_record? %>
      <%= render "accounts_and_goals/accounts/account/archive_and_deletion", form:, account: %>
    <% end %>
  </div>
<% end %>
