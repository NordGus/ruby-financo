<%= turbo_frame_tag "#{@kinds.first.gsub(".", "_")}_accounts" do %>
  <% if @accounts.any? %>
    <% @accounts.each do |account| %>
      <div class="p-1.5 [&:not(:last-child)]:border-b">
        <h4 class="text-xl"><%= account.name %></h4>
        <% unless Account::KINDS[:external].values.include?(account.kind) %>
          <%= turbo_frame_tag dom_id_for_account_balance(account, preview: true),
                              src: balance_for_accounts_and_goals_account_path(id: account.id, preview: true),
                              class: "flex justify-between" do %>
            <%= render "components/spinner" %>
          <% end %>
        <% end %>
        <p class="text-sm text-neutral-400 leading-none max-w-[100%] overflow-hidden"><%= account.description&.truncate(50) %></p>
      </div>
    <% end %>
  <% else %>
    <div class="h-[100%] flex justify-center items-center py-1.5">
      <span>you have not added any accounts of this kind</span>
    </div>
  <% end %>
<% end %>
